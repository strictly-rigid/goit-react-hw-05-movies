"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[884],{884:function(e,t,r){r.r(t);var n=r(861),c=r(439),a=r(757),o=r.n(a),s=r(791),u=r(689),i=r(87),l=r(390),p=r(184);t.default=function(){var e,t,r=(0,u.TH)(),a=(0,s.useRef)(null!==(e=null===(t=r.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/dogs"),h=(0,u.UO)().movieId,f=(0,s.useState)({}),v=(0,c.Z)(f,2),d=v[0],x=v[1],w=(0,s.useState)(""),k=(0,c.Z)(w,2),m=k[0],b=k[1];(0,s.useEffect)((function(){function e(){return(e=(0,n.Z)(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.Y5)(h);case 2:t=e.sent,console.log(t),t&&x(t),(r=t.poster_path)&&("https://image.tmdb.org/t/p/w500",b("https://image.tmdb.org/t/p/w500"+r));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(h)}),[h]);var j=d.original_title,g=d.vote_average,y=d.release_date,_=d.overview,E=d.genres,U=new Date(y).getFullYear();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(i.rU,{to:a.current,children:"Go back"}),(0,p.jsxs)("h1",{children:[j," ",U]}),(0,p.jsx)("img",{src:m,alt:"movie poster"}),(0,p.jsxs)("p",{children:["User score: ",Math.round(10*g),"% "]}),(0,p.jsx)("h2",{children:"Overview"}),(0,p.jsx)("p",{children:_}),(0,p.jsx)("h3",{children:"Genres"}),E&&E.length>0?(0,p.jsx)("p",{children:E.map((function(e){return e.name})).join(", ")}):(0,p.jsx)("p",{children:"No genres available"}),(0,p.jsx)("p",{children:"Additional information"}),(0,p.jsxs)("ul",{children:[(0,p.jsx)("li",{children:(0,p.jsx)(i.rU,{to:"cast",children:"Cast"})}),(0,p.jsx)("li",{children:(0,p.jsx)(i.rU,{to:"reviews",children:"Reviews"})})]}),(0,p.jsx)(s.Suspense,{fallback:(0,p.jsx)("div",{children:"Wait, the page is loading..."}),children:(0,p.jsx)(u.j3,{})})]})}},390:function(e,t,r){r.d(t,{Hx:function(){return v},Y5:function(){return l},hk:function(){return x},uV:function(){return h},wr:function(){return u}});var n=r(861),c=r(757),a=r.n(c),o="https://api.themoviedb.org/3",s="86bcaf318e232372b2e8e2623c959f88";function u(e){return i.apply(this,arguments)}function i(){return(i=(0,n.Z)(a().mark((function e(t){var r,n,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/trending/movie/week",r="".concat(o).concat("/trending/movie/week","?api_key=").concat(s),e.prev=2,e.next=5,fetch(r);case 5:if((n=e.sent).ok){e.next=8;break}throw new Error("Error: Unable to fetch data. Status code: ".concat(n.status));case 8:return e.next=10,n.json();case 10:return c=e.sent,console.log(c.results),e.abrupt("return",c.results);case 15:return e.prev=15,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[2,15]])})))).apply(this,arguments)}function l(e){return p.apply(this,arguments)}function p(){return(p=(0,n.Z)(a().mark((function e(t){var r,n,c,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="/movie/".concat(t),n="".concat(o).concat(r,"?api_key=").concat(s),e.prev=2,e.next=5,fetch(n);case 5:if((c=e.sent).ok){e.next=8;break}throw new Error("Error: Unable to fetch data. Status code: ".concat(c.status));case 8:return e.next=10,c.json();case 10:return u=e.sent,e.abrupt("return",u);case 14:return e.prev=14,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}function h(e){return f.apply(this,arguments)}function f(){return(f=(0,n.Z)(a().mark((function e(t){var r,n,c,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="/movie/".concat(t),n="".concat(o).concat(r,"/credits?api_key=").concat(s),e.prev=2,e.next=5,fetch(n);case 5:if((c=e.sent).ok){e.next=8;break}throw new Error("Error: Unable to fetch data. Status code: ".concat(c.status));case 8:return e.next=10,c.json();case 10:return u=e.sent,e.abrupt("return",u);case 14:return e.prev=14,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}function v(e){return d.apply(this,arguments)}function d(){return(d=(0,n.Z)(a().mark((function e(t){var r,n,c,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="/movie/".concat(t),n="".concat(o).concat(r,"/reviews?api_key=").concat(s),e.prev=2,e.next=5,fetch(n);case 5:if((c=e.sent).ok){e.next=8;break}throw new Error("Error: Unable to fetch data. Status code: ".concat(c.status));case 8:return e.next=10,c.json();case 10:return u=e.sent,e.abrupt("return",u);case 14:return e.prev=14,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}function x(e){return w.apply(this,arguments)}function w(){return(w=(0,n.Z)(a().mark((function e(t){var r,n,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/search/movie",r="".concat(o).concat("/search/movie","?api_key=").concat(s,"&query=").concat(t),e.prev=2,e.next=5,fetch(r);case 5:if((n=e.sent).ok){e.next=8;break}throw new Error("Error: Unable to fetch data. Status code: ".concat(n.status));case 8:return e.next=10,n.json();case 10:return c=e.sent,e.abrupt("return",c);case 14:return e.prev=14,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}},861:function(e,t,r){function n(e,t,r,n,c,a,o){try{var s=e[a](o),u=s.value}catch(i){return void r(i)}s.done?t(u):Promise.resolve(u).then(n,c)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(c,a){var o=e.apply(t,r);function s(e){n(o,c,a,s,u,"next",e)}function u(e){n(o,c,a,s,u,"throw",e)}s(void 0)}))}}r.d(t,{Z:function(){return c}})}}]);
//# sourceMappingURL=884.46f2bb1d.chunk.js.map