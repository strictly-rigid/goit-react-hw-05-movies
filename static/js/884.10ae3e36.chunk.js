"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[884],{884:function(t,e,r){r.r(e);var n=r(861),c=r(439),a=r(757),o=r.n(a),s=r(791),u=r(689),i=r(87),p=r(390),l=r(184);e.default=function(){var t=(0,u.TH)(),e=(0,u.UO)().movieId,r=(0,u.s0)(),a=(0,s.useState)({}),f=(0,c.Z)(a,2),h=f[0],v=f[1],d=(0,s.useState)(""),x=(0,c.Z)(d,2),w=x[0],m=x[1];(0,s.useEffect)((function(){function t(){return(t=(0,n.Z)(o().mark((function t(){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,p.Y5)(e);case 2:(r=t.sent)&&v(r),(n=r.poster_path)&&("https://image.tmdb.org/t/p/w500",m("https://image.tmdb.org/t/p/w500"+n));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}(e)}),[e]);var k=h.original_title,b=h.vote_average,j=h.release_date,y=h.overview,g=h.genres,_=new Date(j).getFullYear();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:function(){var e,n;r(null!==(e=null===(n=t.state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/")},children:"Go back"}),(0,l.jsxs)("h1",{children:[k," ",_]}),(0,l.jsx)("img",{src:w,alt:"movie poster"}),(0,l.jsxs)("p",{children:["User score: ",Math.round(10*b),"% "]}),(0,l.jsx)("h2",{children:"Overview"}),(0,l.jsx)("p",{children:y}),(0,l.jsx)("h3",{children:"Genres"}),g&&g.length>0?(0,l.jsx)("p",{children:g.map((function(t){return t.name})).join(", ")}):(0,l.jsx)("p",{children:"No genres available"}),(0,l.jsx)("p",{children:"Additional information"}),(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:(0,l.jsx)(i.rU,{to:"cast",state:{from:t.state.from},children:"Cast"})}),(0,l.jsx)("li",{children:(0,l.jsx)(i.rU,{to:"reviews",state:{from:t.state.from},children:"Reviews"})})]}),(0,l.jsx)(s.Suspense,{fallback:(0,l.jsx)("div",{children:"Wait, the page is loading..."}),children:(0,l.jsx)(u.j3,{})})]})}},390:function(t,e,r){r.d(e,{Hx:function(){return v},Y5:function(){return p},hk:function(){return x},uV:function(){return f},wr:function(){return u}});var n=r(861),c=r(757),a=r.n(c),o="https://api.themoviedb.org/3",s="86bcaf318e232372b2e8e2623c959f88";function u(t){return i.apply(this,arguments)}function i(){return(i=(0,n.Z)(a().mark((function t(e){var r,n,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/trending/movie/week",r="".concat(o).concat("/trending/movie/week","?api_key=").concat(s),t.prev=2,t.next=5,fetch(r);case 5:if((n=t.sent).ok){t.next=8;break}throw new Error("Error: Unable to fetch data. Status code: ".concat(n.status));case 8:return t.next=10,n.json();case 10:return c=t.sent,t.abrupt("return",c.results);case 14:return t.prev=14,t.t0=t.catch(2),console.error(t.t0),t.abrupt("return",null);case 18:case"end":return t.stop()}}),t,null,[[2,14]])})))).apply(this,arguments)}function p(t){return l.apply(this,arguments)}function l(){return(l=(0,n.Z)(a().mark((function t(e){var r,n,c,u;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="/movie/".concat(e),n="".concat(o).concat(r,"?api_key=").concat(s),t.prev=2,t.next=5,fetch(n);case 5:if((c=t.sent).ok){t.next=8;break}throw new Error("Error: Unable to fetch data. Status code: ".concat(c.status));case 8:return t.next=10,c.json();case 10:return u=t.sent,t.abrupt("return",u);case 14:return t.prev=14,t.t0=t.catch(2),console.error(t.t0),t.abrupt("return",null);case 18:case"end":return t.stop()}}),t,null,[[2,14]])})))).apply(this,arguments)}function f(t){return h.apply(this,arguments)}function h(){return(h=(0,n.Z)(a().mark((function t(e){var r,n,c,u;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="/movie/".concat(e),n="".concat(o).concat(r,"/credits?api_key=").concat(s),t.prev=2,t.next=5,fetch(n);case 5:if((c=t.sent).ok){t.next=8;break}throw new Error("Error: Unable to fetch data. Status code: ".concat(c.status));case 8:return t.next=10,c.json();case 10:return u=t.sent,t.abrupt("return",u);case 14:return t.prev=14,t.t0=t.catch(2),console.error(t.t0),t.abrupt("return",null);case 18:case"end":return t.stop()}}),t,null,[[2,14]])})))).apply(this,arguments)}function v(t){return d.apply(this,arguments)}function d(){return(d=(0,n.Z)(a().mark((function t(e){var r,n,c,u;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="/movie/".concat(e),n="".concat(o).concat(r,"/reviews?api_key=").concat(s),t.prev=2,t.next=5,fetch(n);case 5:if((c=t.sent).ok){t.next=8;break}throw new Error("Error: Unable to fetch data. Status code: ".concat(c.status));case 8:return t.next=10,c.json();case 10:return u=t.sent,t.abrupt("return",u);case 14:return t.prev=14,t.t0=t.catch(2),console.error(t.t0),t.abrupt("return",null);case 18:case"end":return t.stop()}}),t,null,[[2,14]])})))).apply(this,arguments)}function x(t){return w.apply(this,arguments)}function w(){return(w=(0,n.Z)(a().mark((function t(e){var r,n,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/search/movie",r="".concat(o).concat("/search/movie","?api_key=").concat(s,"&query=").concat(e),t.prev=2,t.next=5,fetch(r);case 5:if((n=t.sent).ok){t.next=8;break}throw new Error("Error: Unable to fetch data. Status code: ".concat(n.status));case 8:return t.next=10,n.json();case 10:return c=t.sent,t.abrupt("return",c);case 14:return t.prev=14,t.t0=t.catch(2),console.error(t.t0),t.abrupt("return",null);case 18:case"end":return t.stop()}}),t,null,[[2,14]])})))).apply(this,arguments)}},861:function(t,e,r){function n(t,e,r,n,c,a,o){try{var s=t[a](o),u=s.value}catch(i){return void r(i)}s.done?e(u):Promise.resolve(u).then(n,c)}function c(t){return function(){var e=this,r=arguments;return new Promise((function(c,a){var o=t.apply(e,r);function s(t){n(o,c,a,s,u,"next",t)}function u(t){n(o,c,a,s,u,"throw",t)}s(void 0)}))}}r.d(e,{Z:function(){return c}})}}]);
//# sourceMappingURL=884.10ae3e36.chunk.js.map